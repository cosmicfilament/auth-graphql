(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,a){e.exports=a.p+"static/media/sandpiper.8a3a568b.png"},43:function(e,t,a){e.exports=a.p+"static/media/dashboard.6ec7e125.png"},48:function(e,t,a){e.exports=a(61)},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(35),l=a.n(c),o=a(17),i=a(20),s=a(21),u=a(5),m=a(45),d=a(46),p=a(10),g=a(44),b=a(36),f=a.n(b),E=function(e){return r.a.createElement("section",{className:"card row",style:{background:"lightyellow"}},r.a.createElement("div",{className:"card-image col s12"},r.a.createElement("img",{src:f.a,style:{padding:"5px"},alt:"bird"})))},h=a(15),v=a(13),w=a(18),O=a(19),j=a.n(O);function N(){var e=Object(w.a)(["\n\t{\n\t\tcurrentUser {\n\t\t\tid\n\t\t\temail\n\t\t}\n\t}\n"]);return N=function(){return e},e}var S=j()(N());function y(){var e=Object(w.a)(["\n\tmutation {\n\t\tlogout {\n\t\t\tid\n\t\t\temail\n\t\t}\n\t}\n"]);return y=function(){return e},e}var k=j()(y()),L=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),a=t[0],r=t[1],c=Object(v.b)(S),l=c.loading,o=c.data,s=Object(i.f)(),u=Object(n.useCallback)((function(e){s.push(e)}),[s]),m=Object(n.useCallback)((function(){s.goBack()}),[s]);return Object(n.useEffect)((function(){r(!l&&null!==o.currentUser)}),[l,o,r,a]),{authenticated:a,goFwdTo:u,goBack:m,loading:l}},$=function(){var e=L(),t=e.authenticated,a=e.goFwdTo,n=e.loading,c=Object(v.a)(k),l=Object(h.a)(c,1)[0],i=function(){l({refetchQueries:[{query:S}]}).then((function(){a("/")})).catch((function(e){console.log("Error Logging Out: ".concat(e))}))};return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(o.b,{to:"/",className:"brand-logo left"},"Home"),r.a.createElement("ul",{className:"right"},n?r.a.createElement("div",null):t?r.a.createElement("div",null,r.a.createElement("li",{className:""},r.a.createElement(o.b,{to:"/dashboard"},"Dashboard")),r.a.createElement("li",null,r.a.createElement("a",{onClick:i},"Logout"))):r.a.createElement("div",null,r.a.createElement("li",{className:""},r.a.createElement(o.b,{to:"/signup"},"Signup")),r.a.createElement("li",{className:""},r.a.createElement(o.b,{to:"/login"},"Login"))))))},Q=a(27),x=a(42),C=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(h.a)(t,2),c=a[0],l=a[1],o=function(e,t){l(Object(x.a)({},c,Object(Q.a)({},e,t)))};return r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col s8",onSubmit:function(t){t.preventDefault(),e.onSubmit(c)}},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{placeholder:"Email",type:"email",onChange:function(e){o("email",e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{placeholder:"Password",type:"password",onChange:function(e){o("password",e.target.value)}})),r.a.createElement("button",{className:"btn"},"Submit")))};function q(){var e=Object(w.a)(["\n\tmutation($email: String, $password: String) {\n\t\tlogin(email: $email, password: $password) {\n\t\t\tid\n\t\t\temail\n\t\t}\n\t}\n"]);return q=function(){return e},e}var D=j()(q()),F=function(){var e=Object(v.a)(D),t=Object(h.a)(e,2),a=t[0],c=t[1].error,l=L(),o=l.authenticated,i=l.goFwdTo;Object(n.useEffect)((function(){o&&i("Dashboard")}),[o,i]);return r.a.createElement("div",null,r.a.createElement("h3",null,"Login"),r.a.createElement(C,{onSubmit:function(e){var t=e.email,n=e.password;a({variables:{email:t,password:n},refetchQueries:[{query:S}]}).catch((function(e){console.log("Error logging in: ".concat(e))}))}}),c&&r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"badge red center col s8",style:{color:"white"}},String(c).replace("GraphQL error:",""))))};function T(){var e=Object(w.a)(["\n\tmutation($email: String, $password: String) {\n\t\tsignup(email: $email, password: $password) {\n\t\t\tid\n\t\t\temail\n\t\t}\n\t}\n"]);return T=function(){return e},e}var B=j()(T()),G=function(){var e=Object(v.a)(B),t=Object(h.a)(e,2),a=t[0],c=t[1].error,l=L(),o=l.authenticated,i=l.goFwdTo;Object(n.useEffect)((function(){o&&i("Dashboard")}),[o,i]);return r.a.createElement("div",null,r.a.createElement("h3",null,"Membership Signup"),r.a.createElement(C,{onSubmit:function(e){var t=e.email,n=e.password;a({variables:{email:t,password:n},refetchQueries:[{query:S}]}).catch((function(e){console.log("Error signing up for new acct: ".concat(e))}))}}),c&&r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"badge red center col s8",style:{color:"white"}},String(c).replace("GraphQL error:",""))))},U=a(43),J=a.n(U),M=function(){return r.a.createElement("section",{className:"card row",style:{background:"lightyellow"}},r.a.createElement("div",{className:"card-image col s12"},r.a.createElement("img",{src:J.a,style:{padding:"5px"},alt:"bird"})))},P=a(63),H=Object(g.a)((function(e){var t=e.graphQLErrors,a=e.networkError;t&&(t.map((function(e){var t=e.message,a=e.locations,n=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(a,", Path: ").concat(n))})),t=null),a&&console.log("[Network error]: ".concat(a))})),I=new m.a({}),z=new d.a({uri:"graphql",opts:{credentials:"same-origin"}}),A=p.a.from([H,z]),K=new s.c({cache:I,link:A});var R=function(){return r.a.createElement(u.b,{client:K},r.a.createElement(o.a,null,r.a.createElement("div",{className:"container"},r.a.createElement($,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:E}),r.a.createElement(i.a,{path:"/login",component:F}),r.a.createElement(i.a,{path:"/signup",component:G}),r.a.createElement(i.a,{path:"/dashboard",component:(e=M,Object(P.a)(S)((function(t){var a=Object(i.f)();return Object(n.useEffect)((function(){t.data.loading||t.data.currentUser||a.push("/login")}),[t.data,a]),t.data.loading?r.a.createElement("div",null):r.a.createElement(e,t)})))})))));var e};a(59),a(60);l.a.render(r.a.createElement(R,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.55b1fe2b.chunk.js.map